<!--This script builds a JAR for the Embedded Server Installation -->
<assembly>
  
  <id>runtime-dependencies</id>
  
  <formats>
    <format>dir</format>
  </formats>
  
  <includeBaseDirectory>false</includeBaseDirectory>
  <baseDirectory>teiid</baseDirectory>
    
  <moduleSets>
    <moduleSet>
        <includeSubModules>true</includeSubModules>
               
        <includes>
            <include>org.jboss.teiid:teiid-cache-jbosscache</include>
            <include>org.jboss.teiid:teiid-common-internal</include>
    	
        	<include>org.jboss.teiid:teiid-connector-api</include>
        	<include>org.jboss.teiid:teiid-connector-metadata</include>
            <include>org.jboss.teiid:teiid-runtime</include>
        	<include>org.jboss.teiid:teiid-engine</include>
        	<include>org.jboss.teiid:teiid-metadata</include>
        	<include>org.jboss.teiid:teiid-txn-jbossts</include>        	
        </includes>
        
        <binaries>        
          <includeDependencies>true</includeDependencies>
          <unpack>false</unpack>
                                    
          <dependencySets>
            <dependencySet>
              <useProjectArtifact>true</useProjectArtifact>
              <unpack>false</unpack>
              <useTransitiveDependencies>true</useTransitiveDependencies>
              <useDefaultExcludes>true</useDefaultExcludes>
              <excludes>
                <exclude>teiid*</exclude>
              </excludes>              
            </dependencySet>
          </dependencySets>
          
        </binaries>
      
    </moduleSet>
    <moduleSet>
      <includes>
      	<include>org.jboss.teiid:teiid-hibernate-dialect</include>
      </includes>
      <binaries>
		<includeDependencies>false</includeDependencies>
		<unpack>false</unpack>
      </binaries>
    </moduleSet>
  </moduleSets>
    
</assembly>