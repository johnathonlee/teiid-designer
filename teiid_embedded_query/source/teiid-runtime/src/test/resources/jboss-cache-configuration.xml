<?xml version="1.0" encoding="UTF-8"?>
<server>
	<mbean code="org.jboss.cache.pojo.jmx.CacheJmxWrapper" name="jboss.cache:service=TeiidCache">
      <attribute name="TransactionManagerLookupClass">org.jboss.cache.transaction.GenericTransactionManagerLookup</attribute>
      <attribute name="IsolationLevel">READ_COMMITTED</attribute>
	    <attribute name="LockParentForChildInsertRemove">true</attribute>
	  
      <attribute name="CacheMode">LOCAL</attribute>
	    <attribute name="UseLazyDeserialization">true</attribute>

     <!--
     	The max amount of time (in milliseconds) we wait until the
     	initial state (ie. the contents of the cache) are retrieved from
     	existing members in a clustered environment
     -->
     <attribute name="StateRetrievalTimeout">20000</attribute>
  	 
  	 <!--
     	Number of milliseconds to wait until all responses for a
     	synchronous call have been received.
     -->
     <attribute name="SyncReplTimeout">20000</attribute>
  	
  	 <!-- Max number of milliseconds to wait for a lock acquisition -->
     <attribute name="LockAcquisitionTimeout">15000</attribute>
     
     <!-- Shutdown hook behavior. Valid choices are: DEFAULT, REGISTER and DONT_REGISTER.  this element is omitted, DEFAULT is used. -->
     <attribute name="ShutdownHookBehavior">DEFAULT</attribute>

     <attribute name="FetchInMemoryState">true</attribute>

      <attribute name="CacheLoaderConfig" replace="false">
         <config>

          <!-- are the cache loaders shared in a cluster? -->
          <shared>false</shared>
          <!-- if passivation is true, only the first cache loader is used; the rest are ignored -->
          <passivation>true</passivation>

            <cacheloader>
            	<class>org.jboss.cache.loader.FileCacheLoader</class>
               <properties>location=./target/scratch/teiid</properties>               

                <!--fetch the persistent state of a cache when joining a cluster-->
               <fetchPersistentState>true</fetchPersistentState>
                
               <!-- empties the specified cache loader when cache loader starts up -->
               <purgeOnStartup>true</purgeOnStartup>

               <!-- cache loader is shared among different cache instances -->
               <shared>false</shared>
            </cacheloader>
         </config>
      </attribute>

      <attribute name="EvictionPolicyConfig">
        <config>
          <attribute name="wakeUpIntervalSeconds">3</attribute>
          <!-- This defaults to 200000 if not specified -->
          <attribute name="eventQueueSize">100000</attribute>
          <!-- Name of the DEFAULT eviction policy class. -->
          <attribute name="policyClass">org.jboss.cache.eviction.LRUPolicy</attribute>
          <!-- Cache wide default -->
          <region name="/_default_">
            <attribute name="maxNodes">10000</attribute>
            <attribute name="timeToLiveSeconds">0</attribute>
          </region>
        </config>
      </attribute>
      
   </mbean>
</server>   